{
  "@context": [
    "https://controller.org/metamodels/architecture_components/monitor.jsonld",
    "https://controller.org/metamodels/architecture_components/plan.jsonld",
    "https://controller.org/metamodels/controllers/controller.jsonld",
    "https://controller.org/metamodels/controllers/error.jsonld",
    "https://controller.org/metamodels/controllers/functions.jsonld",
    "https://controller.org/metamodels/controllers/PID/pid_controller.jsonld",
    "https://controller.org/metamodels/controllers/ForceControl/impedance_controller.jsonld",
    "https://comp-rob2b.github.io/metamodels/qudt.json",
    "https://controller.org/metamodels/algorithm.jsonld",
    {
      "adap_ctr_uc1": "https://controller.org/models/adap_ctr_uc1#"
    }
  ],
  "@graph": [
    {"Section": "MotionSpecification"},
    {
      "@id": "adap_ctr_uc1:adaptive_controller_architecture_pid",
      "@type": [
        "MotionSpecification"
      ],
      "pre_condition": [
        "adap_ctr_uc1:pos_constraint_arm_above_uncertain_contact_region_z_axis_left_arm"
      ],
      "per_condition": [
        "adap_ctr_uc1:vel_constraint_setpoint_pid_z_axis_left_arm",
        "adap_ctr_uc1:error_within_threshold_to_activate_i_block_z_axis_left_arm"
      ],
      "post_condition": [
        "adap_ctr_uc1:pos_constraint_arm_in_uncertain_contact_region_z_axis_left_arm"
      ]
    },
    {
      "@id": "adap_ctr_uc1:adaptive_controller_architecture_impedance",
      "@type": [
        "MotionSpecification"
      ],
      "pre": [
        "adap_ctr_uc1:pos_constraint_arm_in_uncertain_contact_region_z_axis_left_arm"      ],
      "per": [
        "adap_ctr_uc1:pos_constraint_setpoint_stiffness_z_axis_left_arm",
        "adap_ctr_uc1:vel_constraint_setpoint_damping_z_axis_left_arm"
      ],
      "post": [
        "adap_ctr_uc1:pos_condition_2_z_axis_left_arm",
        "adap_ctr_uc1:vel_condition_2_z_axis_left_arm",
        "adap_ctr_uc1:net_force_greater_than_threshold_z_axis_left_arm"
      ]
    },

    {
      "Section": "MONITOR"
    },
    {
      "@id": "adap_ctr_uc1:pos_constraint_arm_above_uncertain_contact_region_monitor",
      "@type": [
        "Monitor"
      ],
      "constraint_to_monitor": "adap_ctr_uc1:pos_constraint_arm_above_uncertain_contact_region_z_axis_left_arm"
    },
    {
      "@id": "adap_ctr_uc1:pos_constraint_arm_in_uncertain_contact_region_monitor",
      "@type": [
        "Monitor"
      ],
      "constraint_to_monitor": "adap_ctr_uc1:pos_constraint_arm_in_uncertain_contact_region_z_axis_left_arm"
    },
    {
      "@id": "adap_ctr_uc1:error_within_threshold_to_activate_i_block_z_axis_left_arm_monitor",
      "@type": [
        "Monitor"
      ],
      "constraint_to_monitor": "adap_ctr_uc1:error_within_threshold_to_activate_i_block_z_axis_left_arm"
    },

    {
      "Section": "CONTROLLERCALL"
    },
    {
      "@id": "adap_ctr_uc1:constraint_based_controller_call_pid",
      "@type": [
        "FlagsBasedScheduleCallback"
      ],
      "constraint": "adap_ctr_uc1:vel_constraint_setpoint_pid_z_axis_left_arm",
      "schedule": "adap_ctr_uc1:pd_controller_schedule_z_axis_left_arm"
    },
    {
      "@id": "adap_ctr_uc1:constraint_based_controller_call_pid",
      "@type": [
        "MonitorBasedScheduleSequenceCall"
      ],
      "constraint": "adap_ctr_uc1:vel_constraint_setpoint_pid_z_axis_left_arm",
      "monitor": "adap_ctr_uc1:error_within_threshold_to_activate_i_block_z_axis_left_arm_monitor",
      "schedule": "adap_ctr_uc1:i_controller_schedule_z_axis_left_arm"
    },
    {
      "@id": "adap_ctr_uc1:constraint_based_controller_call_impedance_stiffness_z_axis_left_arm",
      "@type": [
        "FlagsBasedScheduleCallback"
      ],
      "constraint": "adap_ctr_uc1:pos_constraint_setpoint_stiffness_z_axis_left_arm",
      "schedule": "adap_ctr_uc1:impedance_controller_stiffness_term_schedule_z_axis_left_arm"
    },
    {
      "@id": "adap_ctr_uc1:constraint_based_controller_call_impedance_damping_z_axis_left_arm",
      "@type": [
        "FlagsBasedScheduleCallback"
      ],
      "constraint": "adap_ctr_uc1:vel_constraint_setpoint_damping_z_axis_left_arm",
      "schedule": "adap_ctr_uc1:impedance_controller_damping_term_schedule_z_axis_left_arm"
    },

    {
      "Section": "SCHEDULE"
    },
    {
      "@id": "adap_ctr_uc1:pd_controller_schedule_z_axis_left_arm",
      "@type": [
        "Schedule"
      ],
      "trigger_chain": [
        "adap_ctr_uc1:error_calculation_lin_vel_pid_z_axis_left_arm_function",
        "adap_ctr_uc1:p_term_calculator_lin_vel_z_axis_left_arm_function",
        "adap_ctr_uc1:derivative_calculator_of_lin_vel_error_z_axis_left_arm_function",
        "adap_ctr_uc1:d_term_calculator_lin_vel_z_axis_left_arm_function"
      ]
    },
    {
      "@id": "adap_ctr_uc1:i_controller_schedule_z_axis_left_arm",
      "@type": [
        "Schedule"
      ],
      "trigger_chain": [
        "adap_ctr_uc1:integral_calculator_of_lin_vel_error_z_axis_left_arm_function",
        "adap_ctr_uc1:i_term_calculator_lin_vel_z_axis_left_arm_function",
        "adap_ctr_uc1:saturate_i_term_lin_vel_z_axis_left_arm_function"
      ]
    },
    {
      "@id": "adap_ctr_uc1:impedance_controller_stiffness_term_schedule_z_axis_left_arm",
      "@type": [
        "Schedule"
      ],
      "trigger_chain": [
        "adap_ctr_uc1:error_calculation_lin_pos_stiffness_z_axis_left_arm_function",
        "adap_ctr_uc1:stiffness_term_calculator_lin_z_axis_left_arm_function"
      ]
    },
    {
      "@id": "adap_ctr_uc1:impedance_controller_damping_term_schedule_z_axis_left_arm",
      "@type": [
        "Schedule"
      ],
      "trigger_chain": [
        "adap_ctr_uc1:error_calculation_lin_vel_damping_z_axis_left_arm_function",
        "adap_ctr_uc1:damping_term_calculator_lin_z_axis_left_arm_function"
      ]
    },
    {"NOTE": "for multiple constraints, some function calls might be common (eg: error). So, they can be included anyways and merged together in the translator. Or .."},
    {"ToDo": "revisit ininterval; for velocity, it is not included yet; check if all nodes relating to impedance controller is available"}

  ]
}