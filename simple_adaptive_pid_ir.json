{
    "functions": {
        "plant_pos1": {
            "name": "plant_pos",
            "measured_pos": "measured_pos",
            "dt": "dt",
            "output": "control_command",
            "return": null
        },
        "pid_controller1": {
            "name": "pid_controller",
            "p_gain": "kp",
            "i_gain": "ki",
            "d_gain": "kd",
            "setpoint_pos": "setpoint_pos",
            "measured_pos": "measured_pos",
            "prev_error": "prev_error",
            "pos_error": "pos_error",
            "integral_term": "integral_term",
            "dt": "dt",
            "output": "control_command",
            "return": null
        },
        "less_than_monitor1": {
            "name": "less_than_monitor",
            "measured_pos": "measured_pos",
            "setpoint_pos": "uncertainty_start_pos",
            "output": "detection_flag"
        },
        "plant_vel1": {
            "name": "plant_vel",
            "measured_pos": "measured_pos",
            "measured_vel": "measured_vel",
            "dt": "dt",
            "output": "control_command",
            "return": null
        },
        "impedance_controller1": {
            "name": "impedance_controller",
            "p_gain": "kp",
            "d_gain": "kd",
            "pos_error": "pos_error",
            "setpoint_vel": "setpoint_vel",
            "measured_vel": "measured_vel",
            "output": "control_command",
            "return": null
        },
        "in_interval_monitor1": {
            "name": "in_interval_monitor",
            "measured_vel": "measured_vel",
            "setpoint_vel": "setpoint_vel",
            "epsilon": "epsilon",
            "output": "detection_flag",
            "return": null
        },
        "pd_controller1": {
            "name": "pd_controller",
            "p_gain": "kp",
            "d_gain": "kd",
            "setpoint_pos": "setpoint_pos",
            "measured_pos": "measured_pos",
            "prev_error": "prev_error",
            "pos_error": "pos_error",
            "dt": "dt",
            "output": "control_command",
            "return": null
        }
    },
    "state_machine": {
        "flags": [
            "greater_than_monitor",
            "less_than_monitor",
            "in_interval_monitor"
        ],
        "states": {
            "within_uncertainty_range": {
                "trigger_condition": {
                    "flags": [
                        "less_than_monitor"
                    ],
                    "state": {
                        "controller": "impedance_controller",
                        "kp": 0.1,
                        "kd": 0.01
                    }
                }
            },
            "slide_along_surface": {
                "trigger_condition": {
                    "flags": [
                        "in_interval_monitor"
                    ],
                    "state": {
                        "controller": "pd_controller",
                        "kp": 0.05,
                        "kd": 0.05
                    }
                }
            },
            "move_downwards": {
                "trigger_condition": {
                    "flags": [
                        "greater_than_monitor"
                    ],
                    "state": {
                        "controller": "pid_controller",
                        "kp": 0.5,
                        "ki": 0.01,
                        "kd": 0.1
                    }
                }
            }
        }
    },
    "data_structure": {
        "measured_pos": {
            "d_type": "double",
            "init_val": 20.0
        },
        "dt": {
            "d_type": "double",
            "init_val": 0.1
        },
        "control_command": {
            "d_type": "double",
            "init_val": 0.0
        },
        "kp": {
            "d_type": "double",
            "init_val": 0.5
        },
        "ki": {
            "d_type": "double",
            "init_val": 0.01
        },
        "kd": {
            "d_type": "double",
            "init_val": 0.1
        },
        "setpoint_pos": {
            "d_type": "double",
            "init_val": 2.0
        },
        "prev_error": {
            "d_type": "double",
            "init_val": null
        },
        "integral_term": {
            "d_type": "double",
            "init_val": 0.0
        },
        "uncertainty_start_pos": {
            "d_type": "double",
            "init_val": 4.0
        },
        "detection_flag": {
            "d_type": "bool",
            "init_val": "false"
        },
        "measured_vel": {
            "d_type": "double",
            "init_val": 2.0
        },
        "setpoint_vel": {
            "d_type": "double",
            "init_val": 0.0
        },
        "pos_error": {
            "d_type": "double",
            "init_val": null
        },
        "epsilon": {
            "d_type": "double",
            "init_val": 0.1
        }
    }
}